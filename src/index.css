@import "tailwindcss";

/* Critical CSS for LCP optimization */
.critical-content {
  visibility: visible !important;
  opacity: 1 !important;
}

.hero-text {
  font-display: swap;
}

/* Custom theme configuration for Tailwind CSS v4 */
@theme {
  /* Custom animations */
  --animate-fade-in: fade-in 0.5s ease-in-out;
  --animate-slide-up: slide-up 0.5s ease-out;  
  --animate-float: float 3s ease-in-out infinite;
  
  /* Custom keyframes */
  --keyframes-fade-in: {
    from: { opacity: 0; }
    to: { opacity: 1; }
  };
  
  --keyframes-slide-up: {
    from: { 
      transform: translateY(100px); 
      opacity: 0; 
    }
    to: { 
      transform: translateY(0); 
      opacity: 1; 
    }
  };
  
  --keyframes-float: {
    0%, 100%: { transform: translateY(0px); }
    50%: { transform: translateY(-20px); }
  };
  
  /* Custom backdrop blur */
  --backdrop-blur-xs: blur(2px);
  
  /* Custom perspective */
  --perspective-1000: 1000px;
  
  /* Custom gradients for portfolio */
  --gradient-cyber: linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #8b5cf6 100%);
  --gradient-aurora: linear-gradient(45deg, #06b6d4, #3b82f6, #8b5cf6, #ec4899);
  
  /* Custom shadows for glows */
  --shadow-glow-cyan: 0 0 30px rgba(6, 182, 212, 0.3);
  --shadow-glow-purple: 0 0 30px rgba(139, 92, 246, 0.3);
  --shadow-glow-blue: 0 0 30px rgba(59, 130, 246, 0.3);
}

/* Critical performance optimizations */
html {
  scroll-behavior: auto; /* Disable smooth scroll for faster navigation */
  scroll-padding-top: 80px; /* Account for fixed header */
}

body {
  overflow-x: hidden;
  position: relative;
  /* Enable hardware acceleration */
  transform: translateZ(0);
  will-change: scroll-position;
}

/* Fixed scroll behavior for experience page */
.experience-container {
  min-height: 100vh;
  padding-bottom: 200px; /* Ensure last item is fully scrollable */
  scroll-snap-type: y proximity; /* Better scroll snapping */
}

.experience-item {
  scroll-snap-align: start;
  scroll-margin-top: 100px; /* Account for fixed header */
}

/* Ensure proper viewport coverage */
section {
  min-height: 100vh;
  position: relative;
  scroll-snap-align: start;
}

/* Optimize scrollbar for better performance */
::-webkit-scrollbar {
  width: 6px; /* Thinner scrollbar */
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #06b6d4, #8b5cf6);
  border-radius: 3px;
  transition: background 0.2s ease; /* Faster transition */
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #0891b2, #7c3aed);
}

/* Performance optimizations */
* {
  /* Enable hardware acceleration for smoother animations */
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Reduce paint events */
.background-fixed {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}

/* Fix for Lenis scroll issues */
html.lenis {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

/* Better mobile scroll handling */
@media (max-device-width: 768px) {
  html {
    scroll-behavior: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  body {
    overflow-x: hidden;
    overflow-y: auto;
  }
  
  /* Ensure full viewport usage on mobile */
  .mobile-viewport {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height */
  }
}

/* Critical content prioritization */
.above-fold {
  content-visibility: visible;
  contain-intrinsic-size: 100vh;
}

.below-fold {
  content-visibility: auto;
  contain-intrinsic-size: 100vh;
}

/* Fix viewport issues on mobile */
html, body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Enhanced glass morphism */
.glass {
  backdrop-filter: blur(16px) saturate(180%);
  background-color: rgba(255, 255, 255, 0.075);
  border: 1px solid rgba(255, 255, 255, 0.125);
}

.glass-dark {
  backdrop-filter: blur(16px) saturate(180%);
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Custom utility classes */
.perspective-1000 {
  perspective: var(--perspective-1000);
}

.gradient-cyber {
  background: var(--gradient-cyber);
}

.gradient-aurora {
  background: var(--gradient-aurora);
  background-size: 400% 400%;
  animation: gradient-shift 4s ease infinite;
}

.text-shadow-glow-cyan {
  text-shadow: var(--shadow-glow-cyan);
}

.text-shadow-glow-purple {
  text-shadow: var(--shadow-glow-purple);
}

.text-shadow-glow-blue {
  text-shadow: var(--shadow-glow-blue);
}

/* Gradient animation */
@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Performance: Reduce layout shifts */
img {
  content-visibility: auto;
  contain-intrinsic-size: 800px 600px;
}

/* Critical CSS for immediate rendering */
.hero-section {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Optimized transitions */
.page-transition {
  transition: opacity 0.2s ease-out, transform 0.2s ease-out;
}

/* Ensure scroll container works properly */
.scroll-container {
  height: 100vh;
  overflow-y: auto;
  scroll-snap-type: y mandatory;
}

.scroll-section {
  min-height: 100vh;
  scroll-snap-align: start;
  scroll-snap-stop: always;
}

/* Fix for experience page scroll issues */
.experience-page {
  padding-bottom: 20vh; /* Extra space at bottom */
  min-height: calc(100vh + 20vh); /* Ensure full scrollable height */
}